# before: 
#   hooks:
#     - go mod download

builds:
  - env:
      - CGO_ENABLED=0
    goos:
      - linux
    goarch:
      - amd64
      - arm64

dockers:
  - image_templates: 
      # - "ghcr.io/middleware-labs/agent-host-go:{{ .Version }}"
      - 'ghcr.io/middleware-labs/agent-host-go:{{ .Tag }}'
    # use: buildx
    dockerfile: Dockerfile
    build_flag_templates:
    - --label=org.opencontainers.image.title={{ .ProjectName }}
    

# snapcrafts:
#   - name_template: 'agent-host-go:{{ .Version }}'
#     publish: true

# release:
#   github:
#     owner: agent-host-go
#     name: agent-host-go    

# snapshot:
#   name_template: "{{ .Tag }}-next"


    




# before:
#   hooks:
#     - go mod download
# monorepo:
#   tag_prefix: cmd/builder/
#   dir: cmd/builder
# builds:
#   - flags:
#       - -trimpath
#     ldflags:
#       - -s -w -X go.opentelemetry.io/collector/cmd/builder/internal.version={{.Version}} -X go.opentelemetry.io/collector/cmd/builder/internal.date={{.Date}}
#     env:
#       - CGO_ENABLED=0
#     goos:
#       - linux
#       - windows
#       - darwin
#     goarch:
#       - amd64
#       - arm64
#       - ppc64le
#     ignore:
#       - goos: windows
#         goarch: arm64
#     binary: ocb
# release:
#   github:
#     owner: open-telemetry
#     name: opentelemetry-collector
#   header: |
#     ### Images and binaries here: https://github.com/open-telemetry/opentelemetry-collector-releases/releases/tag/{{ .Tag }}
# archives:
#   - format: binary
# checksum:
#   name_template: "checksums.txt"
# snapshot:
#   name_template: "{{ .Tag }}-next"
# changelog:
#   skip: true